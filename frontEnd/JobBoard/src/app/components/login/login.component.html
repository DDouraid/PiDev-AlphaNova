<div class="university-login-wrapper">
  <div class="image-panel">
    <div class="image-slider">
      <img src="assets/internship-1.jpg" alt="Internship Image 1" class="slide active" />
      <img src="assets/internship-2.jpg" alt="Internship Image 2" class="slide" />
      <img src="assets/internship-3.jpg" alt="Internship Image 3" class="slide" />
    </div>
  </div>
  <div class="login-container">
    <div class="login-card">
      <h2 class="title">Student Login</h2>
      <p class="subtitle">Access Your Internship Journey</p>
      <form (ngSubmit)="onSubmit()" #loginForm="ngForm" class="login-form">
        <div class="input-group">
          <label for="username">Username</label>
          <input
            type="text"
            id="username"
            [(ngModel)]="loginRequest.username"
            name="username"
            required
            minlength="4"
            placeholder="Enter your username (min 4 characters)"
            class="input-field"
            #username="ngModel"
            [class.is-invalid]="username.invalid && (username.touched || loginForm.submitted)"
          />
          <div *ngIf="username.invalid && (username.touched || loginForm.submitted)" class="invalid-feedback">
            <div *ngIf="username.errors?.['required']">Username is required.</div>
            <div *ngIf="username.errors?.['minlength']">Username must be at least 4 characters long.</div>
          </div>
        </div>
        <div class="input-group">
          <label for="password">Password</label>
          <input
            type="password"
            id="password"
            [(ngModel)]="loginRequest.password"
            name="password"
            required
            minlength="6"
            placeholder="Enter your password"
            class="input-field"
            #password="ngModel"
            [class.is-invalid]="password.invalid && (password.touched || loginForm.submitted)"
          />
          <div *ngIf="password.invalid && (password.touched || loginForm.submitted)" class="invalid-feedback">
            <div *ngIf="password.errors?.['required']">Password is required.</div>
            <div *ngIf="password.errors?.['minlength']">Password must be at least 6 characters long.</div>
          </div>
        </div>
        <button type="submit" class="login-button" [disabled]="isLoading || loginForm.invalid">
          <span *ngIf="!isLoading">Sign In</span>
          <span *ngIf="isLoading" class="spinner"></span>
        </button>
      </form>
      <div class="divider">
        <span>OR</span>
      </div>
      <div class="social-login">
        <button class="social-button linkedin" (click)="loginWithLinkedIn()">
          <i class="fab fa-linkedin-in"></i> Login with LinkedIn
        </button>
        <button class="social-button google" (click)="loginWithGoogle()">
          <i class="fab fa-google"></i> Login with Google
        </button>
        <!-- New Register link/button -->
        <a routerLink="/register" class="register-link">Don't have an account? Register</a>
      </div>
      <p *ngIf="successMessage" class="success-message">{{ successMessage }}</p>
      <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>
    </div>
  </div>
  <div class="footer-bar">
    <p>Â© {{ currentYear }} Esprit University. All Rights Reserved.</p>
  </div>
</div>
